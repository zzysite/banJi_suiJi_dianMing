<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>班级随机点名程序</title>
</head>
<body>
	<!--CopyRight (c) 钟致远电脑服务 2020-->
	<!--Beta 2.0.5，如需详细信息请查看README.md文件或查看我的哔哩哔哩文章-->
	<!--HTML部分-->
	<div id="container">
		<div id="left">
			<h2>名单操作区</h2>
			<input type="button" id="enterClassmateName" value="键入名单">
			<input type="button" id="showClassmatesList" value="查看班级名单">
		</div>
		<div id="middle">
			<h2>点名操作区</h2>
			<input type="button" id="startPickClassmate" value="开始点名">
		</div>
		<div id="right">
			<h2>设置</h2>
			<p>&nbsp;&nbsp;&nbsp;&nbsp;执行设置后，会导致你会丢失你们班同学的名单</p>
			<input type="button" value="重置程序" id="resetProgram">
		</div>
	</div>
	<!--JavaScript部分-->
	<script type="text/javascript">
		//创建classmates数组
		var classmates = [];

		//导入html按钮
		var enterClassmateName = document.getElementById("enterClassmateName");
		var showClassmatesList = document.getElementById("showClassmatesList");
		var startPickClassmate = document.getElementById("startPickClassmate");
		var resetProgram = document.getElementById("resetProgram");

		//键入班级同学名单方法
		function enterName (number) {
			//使用for循环遍历整个数组，用prompt对话框来录入同学的名字
			for (var i = 0; i < number; i++) {
				classmates[i] = prompt("请输入班级同学名字，输入完成后点击确定");
			}
		};

		//键入班级名单
		enterClassmateName.onclick = function(){
			//创建变量i，使用prompt方法来输入班级人数
			var i = prompt("请问你们班有多少人？（请输入阿拉伯数字）");
			//把人数通过传参导入到enter Name方法内
			enterName(i);
		};

		//查看名单方法
		showClassmatesList.onclick = function(){
			//检查classmates[]数组的长度是否为0
			if (classmates.length == 0) {
				//如果数组长度为0，则跳出下面的提示框
				alert("你没有输入班级同学到名单内");
			}else{
				//如果数组长度不为0，则显示班级同学的名单
				alert(classmates);
			}
		};
		
		//生成不循环随机数的方法
		function getRandomNumber(number){
			var nums = [];
			for (var i = 0; i < number; i++) {
				nums[i] = Math.floor(Math.random()*classmates.length);
				for (var j = 0; j < i; j++) {
					if (nums[j] == nums[i]) {
						i--;
					}
				}
			}
			return nums;
		}
		var j; //创建一个随机数组
		//执行按钮事件
		startPickClassmate.onclick = function(){
			//使用for循环遍历classmates[]数组
			for (var i = 0; i < classmates.length; i++) {
				//获取最新数组
				j = getRandomNumber(classmates.length);
				//如果i等于数组j下标为0的一项
				if (i == j[0]) {
					//如果i等于数组j下标为0的元素，则显示那位幸运儿
					alert(classmates[i]);
				}
			}
		};

		//重置页面
		resetProgram.onclick = function(){
			//确认用户是否手滑
			var isUserCarefully = confirm("请问你确实点到了吗？");
			if (isUserCarefully = true) {
				window.location.reload();
			}
		};
	</script>
</body>
</html>
